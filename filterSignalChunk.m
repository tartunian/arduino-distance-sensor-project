function f = filterSignalChunk(signal)
    persistent filter;
    %filter = 2*[0.2490 0.0039 0.0039 0.0039 0.2490];
    %filter=[0.0144 0.0304 0.0724 0.1245 0.1668 0.1830 0.1668 0.1245 0.0724 0.0304 0.0144];
    filter=[0.0134 0.0292 0.0712 0.1246 0.1687 0.1858 0.1687 0.1246 0.0712 0.0292 0.0134];
%     %filter=[0.135687108830662 0.01048733147128 0.0108700631817479 ...
%         0.0112439503504292 0.0115988202184136 0.0119551032594058 ...
%         0.0123004236888939 0.0126230421562243 0.0129447005649623 ...
%         0.0132407508390304 0.0134894254251193 0.0138862419310124 ...
%         0.0139873985592007 0.0142392289536236 0.0145092702415173 ...
%         0.0147391835289793 0.0149401501877407 0.0151177282031831 ...
%         0.015245195905558 0.0153743082956652 0.0154805200492551 ...
%         0.0155622320903818 0.0156742702408107 0.0157087544845042 ...
%         0.0157548036363082 0.015780120373169 0.0157548036363082 ...
%         0.0157087544845042 0.0156742702408107 0.0155622320903818 ...
%         0.0154805200492551 0.0153743082956652 0.015245195905558 ...
%         0.0151177282031831 0.0149401501877407 0.0147391835289793 ...
%         0.0145092702415173 0.0142392289536236 0.0139873985592007 ...
%         0.0138862419310124 0.0134894254251193 0.0132407508390304 ...
%         0.0129447005649623 0.0126230421562243 0.0123004236888939 ...
%         0.0119551032594058 0.0115988202184136 0.0112439503504292 ...
%         0.0108700631817479 0.01048733147128 0.135687108830662];
%     filter=[0.00010311658448647 3.01386828263536e-05 ...
%         3.44197905688493e-05 3.90240825728492e-05 4.39666440944019e-05 ...
%         4.92560105426e-05 5.48903307312261e-05 6.08607145788742e-05 ...
%         6.71615281649988e-05 7.3800428585285e-05 8.07941836595544e-05 ...
%         8.81473975183498e-05 9.58290825243766e-05 0.000103788636802961 ...
%         0.000112024180493215 0.000120614510436382 0.000129555673577971 ...
%         0.000138597183814438 0.0001480397197298 0.000157624090671134 ...
%         0.000167424205432022 0.000177389969305636 0.000187498872001521 ...
%         0.000197714440328031 0.00020799248029185 0.000218292051438061 ...
%         0.000228581966818472 0.000238829352261818 0.000248980170577052 ...
%         0.000258968918568236 0.00026875066802074 0.000278289960583145 ...
%         0.000287505322717 0.000296318503097686 0.000304734330704322 ...
%         0.000312608228138778 0.000319925396437454 0.000326591701645609 ...
%         0.000332551741182159 0.00033773228401762 0.000342056006050174 ...
%         0.00034544455870731 0.000347825117499152 0.000349123921661267 ...
%         0.000349257834749176 0.000348145434981199 0.000345716595331036 ...
%         0.000341893933886408 0.000336584877620697 0.000329721977678321 ...
%         0.000321245557165659 0.000311050557582202 0.000299094216834933 ...
%         0.000285282603960608 0.000269562345743776 0.000251863271443329 ...
%         0.000232123225299506 0.000210282759609938 0.000186289695510115 ...
%         0.000160092703331809 0.00013164117315539 0.000100895871891099 ...
%         6.78264366522069e-05 3.23978706150065e-05 -5.42063748387119e-06 ...
%         -4.56383682923386e-05 -8.8267912487501e-05 -0.00013332299383081 ...
%         -0.000180784747013134 -0.000230658858792102 -0.000282913174111737 ...
%         -0.000337528970983242 -0.00039446874873331 -0.00045368847692376 ...
%         -0.000515132662028134 -0.000578741819935028 -0.000644447796223979 ...
%         -0.000712167006615131 -0.000781807332332853 -0.000853272926521422 ...
%         -0.000926453811666172 -0.00100122517899886 -0.00107746233537005 ...
%         -0.00115502592321626 -0.00123376030790993 -0.00131351487957119 ...
%         -0.0013941094968119 -0.00147537446364466 -0.00155711772068033 ...
%         -0.00163914237606272 -0.00172123940477834 -0.00180319583636503 ...
%         -0.00188478803720734 -0.00196578131363118 -0.00204593681988059 ...
%         -0.00212500982086884 -0.00220274366094469 -0.00227887596050627 ...
%         -0.00235314360867392 -0.00242527186157022 -0.00249498319568922 ...
%         -0.00256199859788381 -0.00262602507779521 -0.00268678124088247 ...
%         -0.00274397033101717 -0.00279730069932233 -0.00284647610300313 ...
%         -0.00289120410347629 -0.00293118842705762 -0.0029661341086357 ...
%         -0.00299575156455596 -0.00301975271768524 -0.00303785021456107 ...
%         -0.00304976335029457 -0.00305521747867165 -0.00305394056629389 ...
%         -0.00304567170215006 -0.0030301549217225 -0.00300714068997937 ...
%         -0.00297639675937548 -0.00293769036005726 -0.00289080755000034 ...
%         -0.0028355422306119 -0.00277170452349795 -0.00269911291708002 ...
%         -0.00261760235386727 -0.00252702392282948 -0.00242724236056585 ...
%         -0.00231813829748346 -0.00219961081019066 -0.00207157532085196 ...
%         -0.00193396453661956 -0.00178673218004467 -0.00162984712221087 ...
%         -0.00146330062430798 -0.00128710564008256 -0.00110128862261106 ...
%         -0.000905903582597673 -0.000701021325026093 -0.000486737136006924 ...
%         -0.000263163240064748 -3.04370226903814e-05 0.000211283752615977 ...
%         0.000461820881641409 0.000720973984055931 0.000988520986320331 ...
%         0.00126421936084786 0.00154780501126896 0.00183899316128388 ...
%         0.00213748099534418 0.00244294127696945 0.00275502946012688 ...
%         0.00307338413105544 0.00339762068374749 0.00372734028301605 ...
%         0.00406212409245182 0.00440153997677905 0.00474513590742338 ...
%         0.00509244743607677 0.00544299535531308 0.0057962869908454 ...
%         0.00615181756860159 0.00650907048271488 0.00686751842731652 ...
%         0.00722662616235117 0.00758585040946152 0.00794463777224991 ...
%         0.00830243293680468 0.00865867445758257 0.0090127955779607 ...
%         0.00936422964267416 0.00971240718480501 0.0100567610297284 ...
%         0.0103967220675781 0.0107317267772234 0.0110612136477139 ...
%         0.0113846275984189 0.0117014197549163 0.0120110480141761 ...
%         0.0123129799575129 0.0126066942625364 0.0128916795441709 ...
%         0.0131674362441097 0.0134334820023796 0.0136893461397631 ...
%         0.0139345747367504 0.0141687314735626 0.014391397731527 ...
%         0.0146021749782848 0.0148006828147734 0.0149865640810114 ...
%         0.0151594812250998 0.0153191216411647 0.0154651944307153 ...
%         0.0155974326635821 0.0157155956710508 0.0158194676710505 ...
%         0.0159088571830119 0.0159836001316937 0.0160435608579088 ...
%         0.016088627717788 0.0161187186231833 0.0161337777037663 ...
%         0.0161337777037663 0.0161187186231833 0.016088627717788 ...
%         0.0160435608579088 0.0159836001316937 0.0159088571830119 ...
%         0.0158194676710505 0.0157155956710508 0.0155974326635821 ...
%         0.0154651944307153 0.0153191216411647 0.0151594812250998 ...
%         0.0149865640810114 0.0148006828147734 0.0146021749782848 ...
%         0.014391397731527 0.0141687314735626 0.0139345747367504 ...
%         0.0136893461397631 0.0134334820023796 0.0131674362441097 ...
%         0.0128916795441709 0.0126066942625364 0.0123129799575129 ...
%         0.0120110480141761 0.0117014197549163 0.0113846275984189 ...
%         0.0110612136477139 0.0107317267772234 0.0103967220675781 ...
%         0.0100567610297284 0.00971240718480501 0.00936422964267416 ...
%         0.0090127955779607 0.00865867445758257 0.00830243293680468 ...
%         0.00794463777224991 0.00758585040946152 0.00722662616235117 ...
%         0.00686751842731652 0.00650907048271488 0.00615181756860159 ...
%         0.0057962869908454 0.00544299535531308 0.00509244743607677 ...
%         0.00474513590742338 0.00440153997677905 0.00406212409245182 ...
%         0.00372734028301605 0.00339762068374749 0.00307338413105544 ...
%         0.00275502946012688 0.00244294127696945 0.00213748099534418 ...
%         0.00183899316128388 0.00154780501126896 0.00126421936084786 ...
%         0.000988520986320331 0.000720973984055931 0.000461820881641409 ...
%         0.000211283752615977 -3.04370226903814e-05 -0.000263163240064748 ...
%         -0.000486737136006924 -0.000701021325026093 -0.000905903582597673 ...
%         -0.00110128862261106 -0.00128710564008256 -0.00146330062430798 ...
%         -0.00162984712221087 -0.00178673218004467 -0.00193396453661956 ...
%         -0.00207157532085196 -0.00219961081019066 -0.00231813829748346 ...
%         -0.00242724236056585 -0.00252702392282948 -0.00261760235386727 ...
%         -0.00269911291708002 -0.00277170452349795 -0.0028355422306119 ...
%         -0.00289080755000034 -0.00293769036005726 -0.00297639675937548 ...
%         -0.00300714068997937 -0.0030301549217225 -0.00304567170215006 ...
%         -0.00305394056629389 -0.00305521747867165 -0.00304976335029457 ...
%         -0.00303785021456107 -0.00301975271768524 -0.00299575156455596 ...
%         -0.0029661341086357 -0.00293118842705762 -0.00289120410347629 ...
%         -0.00284647610300313 -0.00279730069932233 -0.00274397033101717 ...
%         -0.00268678124088247 -0.00262602507779521 -0.00256199859788381 ...
%         -0.00249498319568922 -0.00242527186157022 -0.00235314360867392 ...
%         -0.00227887596050627 -0.00220274366094469 -0.00212500982086884 ...
%         -0.00204593681988059 -0.00196578131363118 -0.00188478803720734 ...
%         -0.00180319583636503 -0.00172123940477834 -0.00163914237606272 ...
%         -0.00155711772068033 -0.00147537446364466 -0.0013941094968119 ...
%         -0.00131351487957119 -0.00123376030790993 -0.00115502592321626 ...
%         -0.00107746233537005 -0.00100122517899886 -0.000926453811666172 ...
%         -0.000853272926521422 -0.000781807332332853 -0.000712167006615131 ...
%         -0.000644447796223979 -0.000578741819935028 -0.000515132662028134 ...
%         -0.00045368847692376 -0.00039446874873331 -0.000337528970983242 ...
%         -0.000282913174111737 -0.000230658858792102 -0.000180784747013134 ...
%         -0.00013332299383081 -8.8267912487501e-05 -4.56383682923386e-05 ...
%         -5.42063748387119e-06 3.23978706150065e-05 6.78264366522069e-05 ...
%         0.000100895871891099 0.00013164117315539 0.000160092703331809 ...
%         0.000186289695510115 0.000210282759609938 0.000232123225299506 ...
%         0.000251863271443329 0.000269562345743776 0.000285282603960608 ...
%         0.000299094216834933 0.000311050557582202 0.000321245557165659 ...
%         0.000329721977678321 0.000336584877620697 0.000341893933886408 ...
%         0.000345716595331036 0.000348145434981199 0.000349257834749176 ...
%         0.000349123921661267 0.000347825117499152 0.00034544455870731 ...
%         0.000342056006050174 0.00033773228401762 0.000332551741182159 ...
%         0.000326591701645609 0.000319925396437454 0.000312608228138778 ...
%         0.000304734330704322 0.000296318503097686 0.000287505322717 ...
%         0.000278289960583145 0.00026875066802074 0.000258968918568236 ...
%         0.000248980170577052 0.000238829352261818 0.000228581966818472 ...
%         0.000218292051438061 0.00020799248029185 0.000197714440328031 ...
%         0.000187498872001521 0.000177389969305636 0.000167424205432022 ...
%         0.000157624090671134 0.0001480397197298 0.000138597183814438 ...
%         0.000129555673577971 0.000120614510436382 0.000112024180493215 ...
%         0.000103788636802961 9.58290825243766e-05 8.81473975183498e-05 ...
%         8.07941836595544e-05 7.3800428585285e-05 6.71615281649988e-05 ...
%         6.08607145788742e-05 5.48903307312261e-05 4.92560105426e-05 ...
%         4.39666440944019e-05 3.90240825728492e-05 3.44197905688493e-05 ...
%         3.01386828263536e-05 0.00010311658448647];
    f = conv(signal,filter);
end